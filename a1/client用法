Simple Client for A2
Updated 5 days ago by Rukhshan Haroon
To ensure that you don't submit a non-compliant server, we have put up a very simple client for a2. It will allow you to verify that your message format and basic functionalities are indeed correct. Of course, you still need to write your own clients so that you can test out different scenarios.  

 

You can get the basic client from:

/comp/112/uploads/assign2-client

(just copy it to your working directory using the cp command)

 

It takes in three command line arguments:

server-ip-address server-port client-id

 

The client will connect with the server and print out the hello-ack/list message that the server will send in response. You can then put your client in receive mode (it will then expect a message) or you can send a message to another client, or exit.  You can run two clients with different user-ids and test whether your server can correctly forward the chat message from one client to another. 

 

The client doesn't support any error handling, so make sure you give the correct inputs. 

Note: The client exits immediately after a message is sent or received.

 

(how to identify the ip address of the server)

run the command on the server /sbin/ifconfig

 

look for the ip address in the inet addr field

e.g.,10.4.2.16

 

Here is a sample output of what you should expect. (Start client 1 & client 2, and then client 1 sends CHAT to client2)

*************************************************************

(Terminal 1)$ ./assign2-client 10.4.2.16 8300 client1
SendMessage: Sending message of type = 1 to Dst = Server
MSG-RCVD: type = 2; src = Server; dst = client1; length = 0 ; id = 0
MSG-RCVD: type = 4; src = Server; dst = client1; length = 8 ; id = 0
Printing out the message payload 
client1 
Enter 1 to exit; Enter 2 to read; Enter 3 to send message to another user
3
Enter client name:client2
sending: Hello World 123
SendMessage: Sending message of type = 5 to Dst = client2
Client Exiting

***********************************

(Terminal 2)$ ./assign2-client 10.4.2.16 8300 client2
SendMessage: Sending message of type = 1 to Dst = Server
MSG-RCVD: type = 2; src = Server; dst = client2; length = 0 ; id = 0
MSG-RCVD: type = 4; src = Server; dst = client2; length = 16 ; id = 0
Printing out the message payload 
client1 client2 
Enter 1 to exit; Enter 2 to read; Enter 3 to send message to another user
2
Waiting for incoming CHAT message:
MSG-RCVD: type = 5; src = client1; dst = client2; length = 16 ; id = 1
Printing out the message payload 
Hello World 123

***********************************